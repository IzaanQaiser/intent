import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as l}from"./supabaseClient-DihBYOwf.js";const g=document.getElementById("root");if(!g)throw new Error("Missing root element");const m=document.createElement("div");m.className="settings";g.appendChild(m);const u=document.createElement("div");u.className="settings__header";m.appendChild(u);const E=document.createElement("h1");E.textContent="Settings";u.appendChild(E);const _=document.createElement("p");_.textContent="Tune your read-first flow and keep an eye on attention signals.";u.appendChild(_);const d=document.createElement("div");d.className="settings__grid";m.appendChild(d);const a=document.createElement("div");a.className="settings__card";d.appendChild(a);const b=document.createElement("h2");b.textContent="Account";a.appendChild(b);const s=document.createElement("div");s.className="settings__status";a.appendChild(s);const o=document.createElement("div");o.className="settings__meta";a.appendChild(o);const t=document.createElement("button");t.className="settings__button";t.type="button";t.textContent="Log out";a.appendChild(t);const c=document.createElement("div");c.className="settings__card";d.appendChild(c);const x=document.createElement("h2");x.textContent="Insights";c.appendChild(x);const f=document.createElement("p");f.textContent="Review risk windows and behavior trends in your dashboard.";c.appendChild(f);const i=document.createElement("button");i.className="settings__button settings__button--secondary";i.type="button";i.textContent="my dashboard";c.appendChild(i);const r=document.createElement("div");r.className="settings__card";d.appendChild(r);const y=document.createElement("h2");y.textContent="Streaming";r.appendChild(y);const v=document.createElement("p");v.textContent="Events stream to Confluent for analytics and AI insights.";r.appendChild(v);const p=document.createElement("div");p.className="settings__badge";p.textContent="Enabled";r.appendChild(p);const w=e=>{var h,C;const n=(h=chrome.runtime)==null?void 0:h.getURL(e);if(n)try{(C=chrome.tabs)==null||C.create({url:n})}catch{window.open(n,"_blank")}};i.addEventListener("click",()=>w("index.html"));t.addEventListener("click",async()=>{if(!l)return;t.disabled=!0;const{error:e}=await l.auth.signOut({scope:"local"});if(e){t.disabled=!1;return}try{chrome.runtime.sendMessage({type:"auth_signed_out"})}catch{}await N()});async function N(){var n;if(!l){s.textContent="Missing Supabase configuration.",o.textContent="Check VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.",t.disabled=!0;return}const{data:e}=await l.auth.getSession();e.session?(s.textContent="Signed in",o.textContent=((n=e.session.user)==null?void 0:n.email)||"Connected",t.disabled=!1):(s.textContent="Not signed in",o.textContent="Open YouTube to sign in.",t.disabled=!0)}N();

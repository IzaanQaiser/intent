import"./modulepreload-polyfill-B5Qt9EMX.js";import{s as a}from"./supabaseClient-CWLpkwh3.js";const s=document.getElementById("root");if(!s)throw new Error("Missing root element");const n=document.createElement("div");n.className="popup";s.appendChild(n);const o=document.createElement("div");o.className="popup__title";o.textContent="Intent";n.appendChild(o);const e=document.createElement("div");e.className="popup__status";n.appendChild(e);const t=document.createElement("button");t.className="popup__button";t.type="button";n.appendChild(t);async function i(){if(!a){e.textContent="Missing Supabase configuration.",t.textContent="Unavailable",t.disabled=!0;return}const{data:d}=await a.auth.getSession();d.session?(e.textContent="Signed in.",t.textContent="Log out",t.disabled=!1):(e.textContent="Not signed in.",t.textContent="Sign in in-page",t.disabled=!0)}t.addEventListener("click",async()=>{a&&(t.disabled=!0,await a.auth.signOut(),chrome.runtime.sendMessage({type:"auth_signed_out"}),await i())});i();
